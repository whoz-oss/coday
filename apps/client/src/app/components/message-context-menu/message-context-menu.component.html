<div class="context-menu-wrapper">
  <button
    class="menu-trigger"
    (click)="toggleMenu($event)"
    [class.open]="isOpen"
    [attr.aria-label]="'Message actions menu'"
    [attr.aria-expanded]="isOpen"
  >
    â‹®
  </button>

  <div
    class="menu-dropdown"
    [class.open]="isOpen"
    [class.position-top]="position === 'top'"
    [class.position-bottom]="position === 'bottom'"
  >
    @for (action of actions; track action.label) {
      <button
        class="menu-item"
        [class.destructive]="action.destructive"
        [attr.title]="action.tooltip"
        (click)="executeAction(action, $event)"
      >
        <span class="material-icons menu-icon">{{ action.icon }}</span>
        <span class="menu-label">{{ action.label }}</span>
      </button>
    }
  </div>
</div>
