<div class="chat-history">
  <app-chat-message
    *ngFor="let message of messages; trackBy: trackByMessageId; let i = index"
    [message]="message"
    [canDelete]="canDeleteMessage(i)"
    (playRequested)="onPlayMessage($event)"
    (copyRequested)="onCopyMessage($event)"
    (deleteRequested)="onDeleteMessage($event)"
    (feedbackPositive)="onFeedbackPositive(message)"
    (feedbackNegative)="onFeedbackNegative(message)"
  ></app-chat-message>
  
  <div *ngIf="isThinking" class="thinking">
    <div class="dots">
      <span></span>
      <span></span>
      <span></span>
    </div>
    <button class="stop-btn" (click)="onStop()">
      Stop
    </button>
  </div>
  
  <!-- Bouton Go to Bottom -->
  <button 
    *ngIf="showGoToBottom" 
    class="go-to-bottom-btn"
    (click)="goToBottom()"
    title="Go to bottom"
  >
    â†“
  </button>
</div>