{
  "name": "web",
  "$schema": "../../node_modules/nx/schemas/project-schema.json",
  "projectType": "application",
  "tags": ["web-server"],
  "targets": {
    "build": {
      "executor": "nx:run-commands",
      "dependsOn": ["web-ng:build"],
      "outputs": ["{workspaceRoot}/dist/web"],
      "options": {
        "commands": [
          "echo 'üèóÔ∏è  Building web application...'",
          "rm -rf dist/web",
          "mkdir -p dist/web",
          "cp -r apps/web/server dist/web/server",
          "cp -r dist/apps/web-ng/browser dist/web/client",
          "cp apps/web/package.json dist/web/package.json",
          "cp apps/web/bin.js dist/web/bin.js",
          "echo '‚úÖ Web build complete: dist/web'"
        ],
        "parallel": false
      }
    },
    "serve": {
      "executor": "nx:run-commands",
      "dependsOn": ["web-ng:serve"],
      "options": {
        "commands": [
          "echo 'üöÄ Starting development servers...'",
          "tsx watch apps/web/server/server.ts --local --no_auth"
        ]
      }
    }
  }
}
